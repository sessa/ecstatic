
<ion-view ng-controller="PlayerCtrl as controller">
  <ion-nav-buttons side="secondary"><a href="#/tab/add" class="button button-clear icon-left ion-plus-circled"> Add songs</a></ion-nav-buttons>
  <ion-header-bar class="bar bar-subheader bar-energized">
    <ng-switch on="showPlayer">
      <!--if the player has songs in it-->
      <div ng-switch-when="true" class="miniplayer">	
        <videogular vg-theme="playerServices.theme" vg-player-ready="playerServices.onPlayerReady($API)" vg-complete="playerServices.onCompleteItem()" vg-auto-play="playerServices.autoplay" class="videogular-container audio">
          <vg-media vg-src="playerServices.sources" vg-type="audio"></vg-media>
        </videogular>
        <div class="title">Currently playing: "{{playerServices.trackTitle}}" </div>
        <button ng-click="nextSong()" class="button button-clear icon-left ion-ios-skipforward pull-left"> Skip</button>
        <!-- {{trackUser}} -->
        <!--vg-scrub-bar-->
        <!--	vg-scrub-bar-current-time-->
        <!--vg-volume-->
        <!--	vg-mute-button-->
        <!--	vg-volume-bar-->
      </div>
      <!--if the player is empty-->
      <div ng-switch-default="ng-switch-default" class="emptyplayer"> 
        <p class="title">There aren't any songs in your playlist.<a href="#/tab/add" class="button-clear"> Add songs?</a></p>
      </div>
    </ng-switch>
  </ion-header-bar>
  <!--ion-content.-->
  <ion-side-menus>
    <ion-side-menu-content>
      <ion-content has-header="true" class="has-tabs has-footer">
        <button menu-toggle="right" class="button">chatbox</button>
        <!--.videogular-container(ng-controller="VideoCtrl as controller")
        videogular(vg-theme="theme", 
        vg-player-ready="onPlayerReady($API)", 
        vg-complete="onCompleteItem()", 
        class="videogular-container video" 
        vg-auto-play="autoplay")
        vg-media(vg-src="sources", vg-type="video")
        
        
        
        -->
        <!--video.bgvid(autoplay muted)
        source(src="loop.mp4" type="video/mp4")
        source(src="loop2.mp4" type="video/mp4")
        source(src="loop3.mp4" type="video/mp4")
        
        -->
        <p>hello.</p>
        <p>There's {{numberOfUsers}} ecstatic(s) in this channel.</p>
      </ion-content>
    </ion-side-menu-content>
    <ion-side-menu side="right">
      <ion-content has-header="true" class="has-tabs has-footer">
        <button menu-toggle="right" class="button">videobox</button>
        <div ng-controller="chatCtrl">
          <div class="list">
            <ion-item ng-repeat="line in chatLog track by $index" class="scroll-item item">{{line.username}}: {{line.txt}}</ion-item>
          </div>
        </div>
      </ion-content>
      <div ng-controller="chatCtrl" class="message-box">
        <form>
          <div class="label-input-wrapper pull-right">
            <input type="search" ng-model="lineText" ng-enter="enterText(lineText); lineText=''" placeholder="{{textPrompt}}" class="padding"/>
          </div>
          <button ng-click="enterText(lineText); lineText=''" class="button button-small button-light icon ion-android-send pull-right"></button>
        </form>
      </div>
    </ion-side-menu>
  </ion-side-menus>
</ion-view>