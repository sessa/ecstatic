angular.module("ecstatic.mediapicker").controller("MediapickerCtrl",["$window","$scope","$ionicLoading","soundcloudService","playerServices","channelServices","$state","$ionicActionSheet","$timeout","$stateParams",function(e,t,n,i,o,c,a,s,d,l){t.song_added=!1,n.show({template:'<ion-spinner icon="android" class="spinner-light"></ion-spinner>'}),setTimeout(function(){i.getFavorites().then(function(e){n.hide(),t.sc=e})},500),t.mediapicker_actionsheet=function(e){e=e;var n=s.show({titleText:"Modify the playlist",buttons:[{text:"Add this song"}],cancelText:"Cancel",cancel:function(){n()},buttonClicked:function(n){switch(n){case 0:return t.add_to_playlist(e),!0}}})},t.add_to_playlist=function(e){c.addToPlaylist(l.channel_id,e),t.song_added=!0,setTimeout(function(){t.song_added=!1,t.$apply()},3250)}}]);