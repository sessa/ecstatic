angular.module("ecstatic.countdown").controller("CountdownCtrl",function(n,t,e,a,o,i){function c(){var c=e.getChannel(a.channel_id),d=(new Date).getTime();t.startTime=parseInt((c.start_time-d)/1e3),i.$broadcast("timer-set-countdown",t.startTime),t.finished=function(){t.showCountdown=!1,n.broadcast(),o.go("channel",{channel_id:a.channel_id},{reload:!0})},t.startTime<1?t.finished():t.showCountdown=!0}t.$watch("dataReady",function(n){n&&c()})});