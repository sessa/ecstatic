angular.module("ecstatic.videoplayer").controller("VideoCtrl",["$scope","$stateParams","videoplayerServices","channelServices","videoEventServices",function(e,o,i,n,r){r.listen(function(o,i){console.log("videoEventServices, cliplist="+JSON.stringify(i)),e.videoplayerServices.cliplist=i,e.render()}),e.videoMessage="no video yet :(",e.onDesktop,navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|IEMobile)/)?(console.log("we are not in browser"),e.onDesktop=!1):(console.log("we are in browser"),e.onDesktop=!0),e.render=function(){n.getChannels().then(function(r){e.videoplayerServices=i,e.showVideoplayer=!1;var l=n.getChannel(o.channel_id);console.log("videoplayer render"),0!==i.getNumberOfActiveClips(l.cliplist)&&(console.log("active clips > 0"),i.setChannel(l),e.onDesktop?e.showVideoplayer=!0:e.videoMessage="Video Playback Support Coming to Mobile Soon :)",e.videoplayerServices=i,e.showVideoplayer=!0)})},e.render()}]);