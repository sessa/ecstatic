angular.module("ecstatic.channels").controller("ChannelsCtrl",["$scope","channelServices","$state",function(n,e,a){function c(){n.channels=e.channels}n.$watch("dataReady",function(n){n&&c()}),n.doRefresh=function(){e.getChannels().then(function(e){var a=[];e.channelList.forEach(function(n){var e=n.player_state;e&&a.push(e)}),n.channels=a,n.$broadcast("scroll.refreshComplete")})},n.joinChannel=function(n){console.log("join?"),e.joinChannel(n)}}]);